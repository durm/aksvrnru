<form role="form" id="search_form" class="well" method="get" action="{% url 'listing' %}">
<legend>Поиск</legend>
  <div class="form-group">
    <input type="search" name="q" class="form-control" id="q" placeholder="Товар" {% if qparams.q_filter %}value="{{qparams.q_filter}}"{% endif %}>
  </div>
<div class="row">
  <div class="col-xs-2">
    <label class="control-label" style="margin-top: 5px;">Цена</label>
  </div>
  <div class="col-xs-5">
    <input type="text" name="price_from" class="form-control" placeholder="от" {% if qparams.price_from_filter %}value="{{qparams.price_from_filter}}"{% endif %}>
  </div>
  <div class="col-xs-5">
    <input type="text" name="price_to" class="form-control" placeholder="до" {% if qparams.price_to_filter %}value="{{qparams.price_to_filter}}"{% endif %}>
  </div>
</div>
<div class="checkbox">
    <label>
      <input type="checkbox" name="a" value="1" {% if qparams.available_filter %}checked="checked"{% endif %}/> В наличии
    </label>
  </div>
<br/>
{% if vendors %}
<div class="form-group">
    <select id="search_vendor" name="vendor" multiple="multiple" class="form-control" data-placeholder="Выбери производителя...">
    {% for vendor in vendors %}
        <option value="{{ vendor.id }}" {% if vendor.id in qparams.vendor_filter %}selected="selected"{% endif %}>{{ vendor.name }}</option>
    {% endfor %}
    </select>
</div>
{% endif %}
{% if rubrics %}
<div class="form-group">
    <select id="search_rubric" name="rubric" multiple="multiple" class="form-control" data-placeholder="Выбери рубрику...">
    {% for rubric in rubrics %}
        <option value="{{ rubric.id }}" {% if rubric.id in qparams.rubric_filter %}selected="selected"{% endif %}>
            {{ rubric.name }}
        </option>
    {% endfor %}
    </select>
</div>
{% endif %}
  <button id="do_search" type="submit" class="btn btn-default">Отправить</button>
  <input type="reset" class="btn btn-default" value="Очистить"/>
</form>
<script>
$(document).ready(function(){
    $("#do_search_reset").click(function(){
        $(':input','#myform')
            .removeAttr('checked')
            .removeAttr('selected')
            .not(':button, :submit, :reset, :hidden, :radio, :checkbox')
            .val('');
        $('select').chosen('destroy');  

        $('select').prop("selectedIndex", -1);   
        $('select').chosen();
    });
});
</script>
